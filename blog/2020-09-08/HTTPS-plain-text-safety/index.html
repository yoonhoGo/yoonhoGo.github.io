<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.62">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-148849742-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-KC9W7B4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-KC9W7B4",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="yoonho's dev notes" href="/opensearch.xml"><title data-react-helmet="true">HTTPS를 쓰면 패스워드를 평문으로 보내도 될까? | yoonho&#x27;s dev notes</title><meta data-react-helmet="true" property="og:title" content="HTTPS를 쓰면 패스워드를 평문으로 보내도 될까? | yoonho&#x27;s dev notes"><meta data-react-helmet="true" name="description" content="오늘은 HTTPS를 사용할 때 패스워드를 평문을 보내도 되는지에 대해서 조사해봤습니다."><meta data-react-helmet="true" property="og:description" content="오늘은 HTTPS를 사용할 때 패스워드를 평문을 보내도 되는지에 대해서 조사해봤습니다."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://yoonhogo.github.io/../static/img/blog/2020-09-08/https-blog.png"><meta data-react-helmet="true" property="twitter:image" content="https://yoonhogo.github.io/../static/img/blog/2020-09-08/https-blog.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for HTTPS를 쓰면 패스워드를 평문으로 보내도 될까?"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link rel="stylesheet" href="/styles.35f20793.css">
<link rel="preload" href="/styles.8fd175d5.js" as="script">
<link rel="preload" href="/runtime~main.5d5bf0e3.js" as="script">
<link rel="preload" href="/main.e362d3cd.js" as="script">
<link rel="preload" href="/1.529c024c.js" as="script">
<link rel="preload" href="/2.ebd07955.js" as="script">
<link rel="preload" href="/3.ae32d648.js" as="script">
<link rel="preload" href="/01a85c17.d53fd9ee.js" as="script">
<link rel="preload" href="/114.c57ffd49.js" as="script">
<link rel="preload" href="/1df93b7f.1e24312f.js" as="script">
<link rel="preload" href="/58384673.accbb922.js" as="script">
<link rel="preload" href="/6875c492.134700e1.js" as="script">
<link rel="preload" href="/a6aa9e1f.28d87da4.js" as="script">
<link rel="preload" href="/ccc49370.d0b69847.js" as="script">
<link rel="preload" href="/60ce53b4.b85db5b3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon/apple-icon.png" alt="yoonho&#x27;s dev notes"><strong class="navbar__title">yoonho&#x27;s dev notes</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yoonhoGo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon/apple-icon.png" alt="yoonho&#x27;s dev notes"><strong class="navbar__title">yoonho&#x27;s dev notes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/yoonhoGo" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">HTTPS를 쓰면 패스워드를 평문으로 보내도 될까?</h1><div class="margin-vert--md"><time datetime="2020-09-08T10:38:44.000Z" class="blogPostDate_3bQP">September 8, 2020  · 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/yoonhoGo" target="_blank" rel="noreferrer noopener"><img src="https://avatars3.githubusercontent.com/u/6959851" alt="yoonhoGo"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/yoonhoGo" target="_blank" rel="noreferrer noopener">yoonhoGo</a></h4><small class="avatar__subtitle">COVID-19로 재택 근무중입니다. 안전한 사용자 보안을 위해서 머리를 싸매는 중.</small></div></div></header><section class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="intro"></a>intro.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#intro" title="Direct link to heading">#</a></h3><p><img alt="https-blog" src="/assets/images/https-blog-69b4e3b05ee8b255423c7d55eaeb152d.png"></p><p>너무 당연하게 패스워드는 클라이언트에서 해싱 후에 서버에 보내서 가공해야한다고 생각했습니다.
그게 보안적으로 좀 더 안전하다고 생각했기 때문인데요.
지인에게 2차 비밀번호 평문을 HTTPS(TLS v1.2 이상)로 보냈을 때 무슨 문제가 있는가에 대한 질문을 받았습니다.
저는 당연히 해시를 해서 보내야 한다고 생각만 해봤지 왜인가에 대해서 충분히 생각해보지 못했음을 깨닫고 조사를 해봤습니다.
(물론 데이터베이스에 저장할 때는 해시를 한다는 가정입니다.) 그래서 오늘은 HTTPS를 사용할 때 패스워드를 평문을 보내도 되는지에 대해서 조사해봤습니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="https로-평문-패스워드를-보내면-안전한가"></a>HTTPS로 평문 패스워드를 보내면 안전한가?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#https로-평문-패스워드를-보내면-안전한가" title="Direct link to heading">#</a></h2><p>우선, HTTPS로 평문을 보낼때 문제가 있을까요?</p><p>생각해볼 수 있는 경우는 세가지가 있습니다.</p><ol><li>Client Side</li><li>MITM(Man in the middle)</li><li>Server Side</li></ol><p>이 세가지의 입장에서 살펴보겠습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-client-side"></a>1. Client Side<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-client-side" title="Direct link to heading">#</a></h3><p>클라이언트의 입장에서 평문을 보낼 때는 적법한 사용자 외에 악성코드, 바이러스 등으로 클라이언트의 정보가 노출되고 있다고 가정하겠습니다.</p><p>이 경우는 해시를 하거나 암호화를 하는 것으로 사용자의 패스워드가 노출 되는 것을 막을 수 없습니다. 혹시, 이미 바이러스에 감염이 되어있었다면 HTTPS 인증서를 통해 도메인에 대한 유효성을 검증하거나 다른 방식의 보안 솔루션을 도입해야합니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-중간자-입장에서"></a>2. 중간자 입장에서<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-중간자-입장에서" title="Direct link to heading">#</a></h3><blockquote><p>중간자는 client-server의 단대단 사이에서 해킹을 통해 통신 패킷을 도청 혹은 조작하는 있는 해커를 의미합니다.</p></blockquote><p>중간자가 통신 패킷을 볼 수 있다고 하더라도 HTTPS로 패킷이 암호화 되어있기 때문에 유의미한 정보를 얻을 수는 없습니다.</p><p>만약 어떤 방법을 통해 열어 볼 수 있다고 가정한다면, 단순히 패스워드를 해시/암호화 하는 것으로는 재사용 공격(Replay Attack)으로부터 보호할 수 없습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-server-side"></a>3. Server Side<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-server-side" title="Direct link to heading">#</a></h3><p>서버 입장에서는 패스워드가 평문일 경우 길이/중복문자/사전단어/영문자+숫자+특수문자의 조합/등등의 유효성을 검사할 수 있다는 장점이 있습니다.</p><p>클라이언트가 유효성 검사 후에 해싱하여 보내준다면, 서버는 클라이언트가 유효성 검사를 조작 후에 해시하여 보내줬는지를 파악할 수가 없습니다.</p><p>구글링을 통해 몇몇 블로그, 홈페이지들을 찾아본 결과 HTTPS를 통해 암호를 전송할때 해시/암호화 등의 조치를 한번 더 취하는 것이 사이트 보안 이점을 얻기 어렵다는 글들을 보았습니다.
왜냐하면 공격자가 해시/암호화된 패스워드를 획득하였을 때 서버가 두 경우의 차이를 알 수 없기 때문입니다.(→ 만약, 이 문제(Challenge-Response)에 대한 조치가 취해졌다면 해시/암호화 하는 것과 하지 않는 것의 차이는 없습니다.)</p><p>유일한 이점은 사용자가 여러 사이트에서 동일한 패스워드를 사용하고 있을 때 사용자를 보호한다는 것입니다.(이것이 사이트를 더 안전하게 만들지는 못합니다.)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="production-환경에서는-어떻게-쓰일까"></a>Production 환경에서는 어떻게 쓰일까?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#production-환경에서는-어떻게-쓰일까" title="Direct link to heading">#</a></h2><p><em>부제: Best Practice를 찾아서</em></p><p>유명 웹사이트들은 어떻게 사용하고 있을지 궁금해서 대표적인 사이트 몇군데 트래킹 해봤습니다.</p><blockquote><p>아래의 사이트들의 인증 로직을 다 파악하고 있는 것은 아니므로 어떻게 전달하고 있는지만 봐주시기 바랍니다.</p></blockquote><ul><li>google, github, twitter: 평문 패스워드 전송</li><li>facebook, instagram: 자체 암호 포맷이 있음</li><li>네이버: 로그인 창에서 키를 받아오고 암호화? HAMC?을 적용해서 보내는 것으로 추측</li><li>카카오: 해시 데이터로 추측</li><li>microsoft, linkedin: 평문 패스워드 전송</li><li>aws: 평문 패스워드 전송</li></ul><p>이상 10개의 사이트를 조사한 결과 국내 포털 사이트와 페이스북 계열 외에서는 평문 암호를 보내는 것을 알 수 있었습니다.</p><p>다만, 쿠키/세션/보안을 위한 코드들과 함께 보안 취약점을 커버하는 데이터들이 함께 전송되는 것으로 파악했습니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conclusion"></a>Conclusion<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>짧은 내용이었지만 결론을 맺어보겠습니다.</p><p>HTTPS를 사용하여 client-server가 end-to-end 통신을 할때 password를 plain text로 보내는 것보다 hash/encrypt하여 보내는 것이 사이트 입장에서 보안상 이점을 얻는다고 말하기 어렵습니다.</p><p>다만, 서버가 사용하는 HTTPS 인증서가 노출되었을 경우라던지 중간자가 패킷을 도청하였을 경우, hash/encrypt를 통해 사용자를 보호해줄 수는 있습니다.</p><p>또한, HTTPS를 사용한다고 하더라도 그 외의 추가적인 보안 솔루션의 도입은 필요하며(위에서 예를든 Challenge-Response 등) HTTPS를 사용하였기 때문에 우리의 로그인 프로세스는 완벽하게 안전하다고 맹신할 수는 없습니다.</p><p>추가적인 질문이나 글의 수정사항이 보이신다면 <a href="https://github.com/yoonhoGo/yoonhoGo.github.io/issues/new" target="_blank" rel="noopener noreferrer">GitHub Issue</a>를 통해 문의해주시면 감사하겠습니다. :)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="reference"></a>Reference<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reference" title="Direct link to heading">#</a></h2><ul><li><a href="https://stackoverflow.com/questions/323200/is-an-https-query-string-secure" target="_blank" rel="noopener noreferrer">Is an HTTPS query string secure? - Stack Overflow</a></li><li><a href="https://www.linkedin.com/pulse/plain-text-password-safe-send-over-network-manish-dhar-dwivedi" target="_blank" rel="noopener noreferrer">Is &#x27;plain text&#x27;​ password safe to send over network? - LinkedIn</a></li><li><a href="https://security.stackexchange.com/questions/110415/is-it-ok-to-send-plain-text-password-over-https" target="_blank" rel="noopener noreferrer">Is it ok to send plain-text password over HTTPS? [duplicate]</a></li><li><a href="https://stackoverflow.com/questions/323200/is-an-https-query-string-secure" target="_blank" rel="noopener noreferrer">Is an HTTPS query string secure? - Stack Overflow</a></li></ul></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/https">https</a><a class="margin-horiz--sm" href="/blog/tags/password">password</a><a class="margin-horiz--sm" href="/blog/tags/authorization">authorization</a><a class="margin-horiz--sm" href="/blog/tags/security">security</a></div></footer></article><div><a href="https://github.com/facebook/docusaurus/edit/master/website/blog/blog/2020-09-08 HTTPS를 쓰면 패스워드를 평문으로 보내도 될까.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/ausg/monsters-use-vim"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">고인물 개발자는 Vim을 쓴다 이 말이야 »</div></a></div></nav></div></div><div class="col col--2"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#intro" class="table-of-contents__link">intro.</a></li><li><a href="#https로-평문-패스워드를-보내면-안전한가" class="table-of-contents__link">HTTPS로 평문 패스워드를 보내면 안전한가?</a><ul><li><a href="#1-client-side" class="table-of-contents__link">1. Client Side</a></li><li><a href="#2-중간자-입장에서" class="table-of-contents__link">2. 중간자 입장에서</a></li><li><a href="#3-server-side" class="table-of-contents__link">3. Server Side</a></li></ul></li><li><a href="#production-환경에서는-어떻게-쓰일까" class="table-of-contents__link">Production 환경에서는 어떻게 쓰일까?</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li><li><a href="#reference" class="table-of-contents__link">Reference</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://instagram.com/ynh_g" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li><li class="footer__item"><a href="https://twitter.com/yoonho_go" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/yoonhoGo/yoonhoGo.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.8fd175d5.js"></script>
<script src="/runtime~main.5d5bf0e3.js"></script>
<script src="/main.e362d3cd.js"></script>
<script src="/1.529c024c.js"></script>
<script src="/2.ebd07955.js"></script>
<script src="/3.ae32d648.js"></script>
<script src="/01a85c17.d53fd9ee.js"></script>
<script src="/114.c57ffd49.js"></script>
<script src="/1df93b7f.1e24312f.js"></script>
<script src="/58384673.accbb922.js"></script>
<script src="/6875c492.134700e1.js"></script>
<script src="/a6aa9e1f.28d87da4.js"></script>
<script src="/ccc49370.d0b69847.js"></script>
<script src="/60ce53b4.b85db5b3.js"></script>
</body>
</html>